package com.example.android.coronavirus_outbreaknews;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

public final class QueryUtils {
    private QueryUtils(){}

    /** Sample JSON response */
    // url: https://content.guardianapis.com/search?tag=world%2Fcoronavirus-outbreak&show-tags=contributor&api-key=test
    private static final String SAMPLE_JSON_RESPONSE = "{\"response\":{\"status\":\"ok\",\"userTier\":\"developer\",\"total\":22569,\"startIndex\":1,\"pageSize\":10,\"currentPage\":1,\"pages\":2257,\"orderBy\":\"newest\",\"results\":[{\"id\":\"world/live/2021/jan/21/coronavirus-live-news-who-says-dont-panic-all-will-get-covid-vaccine-new-us-cdc-director-sworn-in\",\"type\":\"liveblog\",\"sectionId\":\"world\",\"sectionName\":\"World news\",\"webPublicationDate\":\"2021-01-21T14:59:34Z\",\"webTitle\":\"Coronavirus live news: Portugal reports record deaths for fourth day in a row; US intends to join Covax, Fauci tells WHO\",\"webUrl\":\"https://www.theguardian.com/world/live/2021/jan/21/coronavirus-live-news-who-says-dont-panic-all-will-get-covid-vaccine-new-us-cdc-director-sworn-in\",\"apiUrl\":\"https://content.guardianapis.com/world/live/2021/jan/21/coronavirus-live-news-who-says-dont-panic-all-will-get-covid-vaccine-new-us-cdc-director-sworn-in\",\"tags\":[{\"id\":\"profile/helen-sullivan\",\"type\":\"contributor\",\"webTitle\":\"Helen Sullivan\",\"webUrl\":\"https://www.theguardian.com/profile/helen-sullivan\",\"apiUrl\":\"https://content.guardianapis.com/profile/helen-sullivan\",\"references\":[],\"bio\":\"<p>Helen Sullivan is the world news liveblogger and reporter on the Guardian's foreign desk in Sydney. She also writes a fortnightly column about animals. Twitter <a href=\\\"https://twitter.com/helenrsullivan\\\">@helenrsullivan</a></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2020/04/08/Helen_Sullivan.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2020/04/08/Helen_Sullivan.png\",\"firstName\":\"Helen\",\"lastName\":\"Sullivan\",\"twitterHandle\":\"helenrsullivan\"},{\"id\":\"profile/lucy-campbell\",\"type\":\"contributor\",\"webTitle\":\"Lucy Campbell\",\"webUrl\":\"https://www.theguardian.com/profile/lucy-campbell\",\"apiUrl\":\"https://content.guardianapis.com/profile/lucy-campbell\",\"references\":[],\"bio\":\"<p>Lucy Campbell is a Guardian journalist and&nbsp;<a href=\\\"https://www.theguardian.com/the-guardian-foundation/2018/nov/09/meet-the-scott-trust-bursary-students-201819\\\">holder of a Scott Trust bursary</a></p>\",\"firstName\":\"Lucy \",\"lastName\":\"Campbell\"},{\"id\":\"profile/ameliahill\",\"type\":\"contributor\",\"webTitle\":\"Amelia Hill\",\"webUrl\":\"https://www.theguardian.com/profile/ameliahill\",\"apiUrl\":\"https://content.guardianapis.com/profile/ameliahill\",\"references\":[],\"bio\":\"<p>Amelia Hill is a senior reporter for the Guardian. Click&nbsp;<a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Amelia%20Hill.pub.txt\\\">here</a>&nbsp;for Amelia's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/01/25/Amelia-Hill.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/Amelia_Hill,_L.png\",\"firstName\":\"Amelia\",\"lastName\":\"Hill\",\"twitterHandle\":\"byameliahill\"},{\"id\":\"profile/mattha-busby\",\"type\":\"contributor\",\"webTitle\":\"Mattha Busby\",\"webUrl\":\"https://www.theguardian.com/profile/mattha-busby\",\"apiUrl\":\"https://content.guardianapis.com/profile/mattha-busby\",\"references\":[],\"bio\":\"<p>Mattha Busby is a freelance journalist with a keen interest in health, human rights and the environment</p>\",\"firstName\":\"Mattha\",\"lastName\":\"Busby\"},{\"id\":\"profile/rachel-hall\",\"type\":\"contributor\",\"webTitle\":\"Rachel Hall\",\"webUrl\":\"https://www.theguardian.com/profile/rachel-hall\",\"apiUrl\":\"https://content.guardianapis.com/profile/rachel-hall\",\"references\":[],\"bio\":\"<p>Rachel Hall is universities editor at the Guardian. Twitter <a href=\\\"https://twitter.com/rachela_hall\\\">@rachela_hall</a></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2018/01/26/unnamed.jpg\",\"firstName\":\"Rachel\",\"lastName\":\"Hall \",\"twitterHandle\":\"rachela_hall\"},{\"id\":\"profile/kim-willsher\",\"type\":\"contributor\",\"webTitle\":\"Kim Willsher\",\"webUrl\":\"https://www.theguardian.com/profile/kim-willsher\",\"apiUrl\":\"https://content.guardianapis.com/profile/kim-willsher\",\"references\":[],\"bio\":\"<p>Kim Willsher is an award-winning foreign correspondent based in Paris</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2011/9/30/1317399986248/kim.jpg\",\"firstName\":\"willsher\",\"lastName\":\"kim\"},{\"id\":\"profile/philip-oltermann\",\"type\":\"contributor\",\"webTitle\":\"Philip Oltermann\",\"webUrl\":\"https://www.theguardian.com/profile/philip-oltermann\",\"apiUrl\":\"https://content.guardianapis.com/profile/philip-oltermann\",\"references\":[],\"bio\":\"<p>Philip Oltermann is the Guardian's Berlin bureau chief. He is the author of Keeping Up With the Germans: A History of Anglo-German Encounters. Click&nbsp;<a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Philip%20Oltermann.pub.txt\\\">here</a> for Philp's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2016/11/19/Philip-Oltermann.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Philip_Oltermann,_L.png\",\"firstName\":\"Philip \",\"lastName\":\"Oltermann\",\"twitterHandle\":\"philipoltermann\"},{\"id\":\"profile/aamna-mohdin\",\"type\":\"contributor\",\"webTitle\":\"Aamna Mohdin\",\"webUrl\":\"https://www.theguardian.com/profile/aamna-mohdin\",\"apiUrl\":\"https://content.guardianapis.com/profile/aamna-mohdin\",\"references\":[],\"bio\":\"<p>Aamna Mohdin is a community affairs correspondent for the Guardian. Twitter&nbsp;<a href=\\\"https://twitter.com/aamnamohdin?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\\\">@aamnamohdin</a></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2019/01/15/Aamna-Mohdin.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2019/01/15/Aamna_Mohdin,_L.png\",\"firstName\":\"Aamna\",\"lastName\":\"Mohdin\",\"twitterHandle\":\"aamnamohdin\"},{\"id\":\"profile/warrenmurray\",\"type\":\"contributor\",\"webTitle\":\"Warren Murray\",\"webUrl\":\"https://www.theguardian.com/profile/warrenmurray\",\"apiUrl\":\"https://content.guardianapis.com/profile/warrenmurray\",\"references\":[],\"bio\":\"<p>Warren Murray is the Guardian's UK/US site editor in the Asia-Pacific timezone. He has worked for the Guardian in London as well as ABC News Online, the Irish Independent group in Dublin and capital-city newspapers in Canada. He is based in Queensland.</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/5/12/1431395081916/Warren_Murray_140x140.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/11/29/Warren_Murray_L.png\",\"firstName\":\"murray\",\"lastName\":\"warren\"},{\"id\":\"profile/deniscampbell\",\"type\":\"contributor\",\"webTitle\":\"Denis Campbell\",\"webUrl\":\"https://www.theguardian.com/profile/deniscampbell\",\"apiUrl\":\"https://content.guardianapis.com/profile/deniscampbell\",\"references\":[],\"bio\":\"<p>Denis Campbell is health policy editor for the Guardian and the Observer. He has written about the NHS, public health and medicine since 2007 and shares health-writing duties with Sarah Boseley, the health editor</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2018/04/13/Denis-Campbell.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2018/04/13/Denis_Campbell,_L.png\",\"firstName\":\"Denis\",\"lastName\":\"Campbell\"},{\"id\":\"profile/helen-davidson\",\"type\":\"contributor\",\"webTitle\":\"Helen Davidson\",\"webUrl\":\"https://www.theguardian.com/profile/helen-davidson\",\"apiUrl\":\"https://content.guardianapis.com/profile/helen-davidson\",\"references\":[],\"bio\":\"<p>Helen is a news reporter for Guardian Australia, currently on secondment to the Guardian UK's foreign team.<br></p><p>Email:&nbsp;<a href=\\\"mailto:helen.davidson@theguardian.com\\\">helen.davidson@theguardian.com</a></p><p>Signal/WhatsApp:&nbsp;+61427139328&nbsp;<br>Click <a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Helen%20Davidson.pub.txt\\\">here</a> for Helen's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2019/04/04/Helen_Davidson.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2019/04/04/Helen_Davidson.png\",\"firstName\":\"Helen\",\"lastName\":\"Davidson\",\"emailAddress\":\"helen.davidson@theguardian.com\",\"twitterHandle\":\"heldavidson\"},{\"id\":\"profile/davidsmith\",\"type\":\"contributor\",\"webTitle\":\"David Smith\",\"webUrl\":\"https://www.theguardian.com/profile/davidsmith\",\"apiUrl\":\"https://content.guardianapis.com/profile/davidsmith\",\"references\":[],\"bio\":\"<p>David Smith is the Guardian's Washington DC bureau chief. Click <a href=\\\"https://www.theguardian.com/pgp/PublicKeys/David%20Smith.pub.txt\\\">here</a> for&nbsp;David's public key. Twitter&nbsp;<a href=\\\"https://twitter.com/smithinamerica?lang=en\\\">@smithinamerica</a></p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/contributor/2016/2/9/1455017350853/David-Smith.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/David-Smith,-L.png\",\"firstName\":\"Smith\",\"lastName\":\"David\",\"twitterHandle\":\"smithinamerica\"},{\"id\":\"profile/melissa-davey\",\"type\":\"contributor\",\"webTitle\":\"Melissa Davey\",\"webUrl\":\"https://www.theguardian.com/profile/melissa-davey\",\"apiUrl\":\"https://content.guardianapis.com/profile/melissa-davey\",\"references\":[],\"bio\":\"<p>Melissa Davey is Melbourne bureau chief for the Guardian. Email: melissa.davey@theguardian.com. Click <a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Melissa%20Davey.pub.txt\\\">here</a> for Melissa's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2016/06/09/Melissa-Davey.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Melissa-Davey,_L.png\",\"firstName\":\"Melissa\",\"lastName\":\"Davey\",\"twitterHandle\":\"MelissaLDavey\"},{\"id\":\"profile/ben-doherty\",\"type\":\"contributor\",\"webTitle\":\"Ben Doherty\",\"webUrl\":\"https://www.theguardian.com/profile/ben-doherty\",\"apiUrl\":\"https://content.guardianapis.com/profile/ben-doherty\",\"references\":[],\"bio\":\"<p>Ben Doherty is a reporter for Guardian Australia, and a former foreign correspondent covering south-east Asia. He has won three Walkley awards for his foreign and immigration reporting. Email: ben.doherty@theguardian.com. Click <a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Ben%20Doherty.pub.txt\\\">here</a> for Ben's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2020/06/29/Ben_Doherty.png\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/11/27/Ben_Doherty_720x600_final.png\",\"firstName\":\"Ben \",\"lastName\":\"Doherty\",\"twitterHandle\":\"bendohertycorro\"},{\"id\":\"profile/sam-levine\",\"type\":\"contributor\",\"webTitle\":\"Sam Levine\",\"webUrl\":\"https://www.theguardian.com/profile/sam-levine\",\"apiUrl\":\"https://content.guardianapis.com/profile/sam-levine\",\"references\":[],\"firstName\":\"Sam\",\"lastName\":\"Levine\"},{\"id\":\"profile/iansample\",\"type\":\"contributor\",\"webTitle\":\"Ian Sample\",\"webUrl\":\"https://www.theguardian.com/profile/iansample\",\"apiUrl\":\"https://content.guardianapis.com/profile/iansample\",\"references\":[],\"bio\":\"<p>Ian Sample is science editor of the Guardian. Before joining the newspaper in 2003, he was a journalist at New Scientist and worked at the Institute of Physics as a journal editor. He has a PhD in biomedical materials from Queen Mary's, University of London. Ian also presents the&nbsp;<a href=\\\"https://www.theguardian.com/science/series/science\\\">Science Weekly podcast</a>.</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2014/4/17/1397749332765/IanSample.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/Ian-Sample,-R.png\",\"firstName\":\"sample\",\"lastName\":\"\",\"twitterHandle\":\"iansample\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"politics/live/2021/jan/21/uk-covid-live-coronavirus-gavin-williamson-vaccination-nhs-matt-hancock-downing-street-latest-news-updates\",\"type\":\"liveblog\",\"sectionId\":\"politics\",\"sectionName\":\"Politics\",\"webPublicationDate\":\"2021-01-21T14:53:58Z\",\"webTitle\":\"UK Covid live: No 10 not ruling out lockdown lasting until summer as PM says 'tough weeks ahead'\",\"webUrl\":\"https://www.theguardian.com/politics/live/2021/jan/21/uk-covid-live-coronavirus-gavin-williamson-vaccination-nhs-matt-hancock-downing-street-latest-news-updates\",\"apiUrl\":\"https://content.guardianapis.com/politics/live/2021/jan/21/uk-covid-live-coronavirus-gavin-williamson-vaccination-nhs-matt-hancock-downing-street-latest-news-updates\",\"tags\":[{\"id\":\"profile/andrewsparrow\",\"type\":\"contributor\",\"webTitle\":\"Andrew Sparrow\",\"webUrl\":\"https://www.theguardian.com/profile/andrewsparrow\",\"apiUrl\":\"https://content.guardianapis.com/profile/andrewsparrow\",\"references\":[],\"bio\":\"<p>Andrew Sparrow is a political correspondent at the Guardian. He writes the Guardian's daily live blog, <a href=\\\"http://www.theguardian.com/politics/series/politics-live-with-andrew-sparrow\\\">Politics live with Andrew Sparrow</a>.</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/Andrew-Sparrow.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/Andrew_Sparrow,_R.png\",\"firstName\":\"sparrow\",\"lastName\":\"andrew\",\"twitterHandle\":\"AndrewSparrow\"},{\"id\":\"profile/sallyweale\",\"type\":\"contributor\",\"webTitle\":\"Sally Weale\",\"webUrl\":\"https://www.theguardian.com/profile/sallyweale\",\"apiUrl\":\"https://content.guardianapis.com/profile/sallyweale\",\"references\":[],\"bio\":\"<p>Sally Weale is the Guardian's education correspondent</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/12/26/Sally-Weale.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/12/26/Sally_Weale,_L.png\",\"firstName\":\"Sally\",\"lastName\":\"Weale\"},{\"id\":\"profile/severincarrell\",\"type\":\"contributor\",\"webTitle\":\"Severin Carrell\",\"webUrl\":\"https://www.theguardian.com/profile/severincarrell\",\"apiUrl\":\"https://content.guardianapis.com/profile/severincarrell\",\"references\":[],\"bio\":\"<p>Severin Carrell is the Guardian's Scotland editor. Twitter <a href=\\\"https://twitter.com/severincarrell\\\">@severincarrell</a>. Click <a href=\\\"https://static.guim.co.uk/ni/1418406968273/Severin-Carrell-PGP-key.txt\\\">here</a> for Severin's public key</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/contributor/2007/09/28/severin_carrell_140x140.jpg\",\"firstName\":\"Severin\",\"lastName\":\"Carrell\",\"twitterHandle\":\"severincarrell\"},{\"id\":\"profile/aamna-mohdin\",\"type\":\"contributor\",\"webTitle\":\"Aamna Mohdin\",\"webUrl\":\"https://www.theguardian.com/profile/aamna-mohdin\",\"apiUrl\":\"https://content.guardianapis.com/profile/aamna-mohdin\",\"references\":[],\"bio\":\"<p>Aamna Mohdin is a community affairs correspondent for the Guardian. Twitter&nbsp;<a href=\\\"https://twitter.com/aamnamohdin?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\\\">@aamnamohdin</a></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2019/01/15/Aamna-Mohdin.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2019/01/15/Aamna_Mohdin,_L.png\",\"firstName\":\"Aamna\",\"lastName\":\"Mohdin\",\"twitterHandle\":\"aamnamohdin\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"society/2021/jan/21/covid-wiped-out-decade-of-job-gains-in-uks-industrial-heartlands-says-report\",\"type\":\"article\",\"sectionId\":\"society\",\"sectionName\":\"Society\",\"webPublicationDate\":\"2021-01-21T14:42:24Z\",\"webTitle\":\"Covid wiped out decade of job gains in UK's industrial heartlands, says report\",\"webUrl\":\"https://www.theguardian.com/society/2021/jan/21/covid-wiped-out-decade-of-job-gains-in-uks-industrial-heartlands-says-report\",\"apiUrl\":\"https://content.guardianapis.com/society/2021/jan/21/covid-wiped-out-decade-of-job-gains-in-uks-industrial-heartlands-says-report\",\"tags\":[{\"id\":\"profile/larryelliott\",\"type\":\"contributor\",\"webTitle\":\"Larry Elliott\",\"webUrl\":\"https://www.theguardian.com/profile/larryelliott\",\"apiUrl\":\"https://content.guardianapis.com/profile/larryelliott\",\"references\":[],\"bio\":\"<p>Larry Elliott is the Guardian's <a href=\\\"http://www.guardian.co.uk/business/economics\\\">economics</a> editor</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2014/4/17/1397749335083/LarryElliott.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/06/Larry-Elliott,-R.png\",\"firstName\":\"Larry\",\"lastName\":\"Elliott\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"us-news/live/2021/jan/21/joe-biden-inauguration-administration-kamala-harris-covid-coronavirus-live-updates\",\"type\":\"liveblog\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2021-01-21T14:40:51Z\",\"webTitle\":\"Joe Biden starts first full day in office as president â€“ US politics live\",\"webUrl\":\"https://www.theguardian.com/us-news/live/2021/jan/21/joe-biden-inauguration-administration-kamala-harris-covid-coronavirus-live-updates\",\"apiUrl\":\"https://content.guardianapis.com/us-news/live/2021/jan/21/joe-biden-inauguration-administration-kamala-harris-covid-coronavirus-live-updates\",\"tags\":[{\"id\":\"profile/joan-greve\",\"type\":\"contributor\",\"webTitle\":\"Joan E Greve\",\"webUrl\":\"https://www.theguardian.com/profile/joan-greve\",\"apiUrl\":\"https://content.guardianapis.com/profile/joan-greve\",\"references\":[],\"bio\":\"<p>Joan E Greve is a politics breaking news reporter for Guardian US, based in Washington. Follow her <a href=\\\"https://twitter.com/joanegreve\\\">on Twitter</a></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2019/07/19/Joan_Greve_1.jpg\",\"firstName\":\"Joan E\",\"lastName\":\"Greve\",\"twitterHandle\":\"joanegreve\"},{\"id\":\"profile/martin-belam\",\"type\":\"contributor\",\"webTitle\":\"Martin Belam\",\"webUrl\":\"https://www.theguardian.com/profile/martin-belam\",\"apiUrl\":\"https://content.guardianapis.com/profile/martin-belam\",\"references\":[],\"bio\":\"<p>Martin Belam is the Guardian's senior social reporter in London</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/07/10/Martin-Belam.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Martin_Belam,_L.png\",\"firstName\":\"Martin\",\"lastName\":\"Belam\"},{\"id\":\"profile/dominic-rushe\",\"type\":\"contributor\",\"webTitle\":\"Dominic Rushe\",\"webUrl\":\"https://www.theguardian.com/profile/dominic-rushe\",\"apiUrl\":\"https://content.guardianapis.com/profile/dominic-rushe\",\"references\":[],\"bio\":\"<p>Dominic Rushe is business editor for Guardian US. He was part of the Guardian team that won the 2014 Pulitzer prize for public service journalism.&nbsp;Click <a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Dominic%20Rushe.pub.txt\\\">here</a>&nbsp;for&nbsp;Dominic's public key. Twitter&nbsp;<a href=\\\"https://twitter.com/dominicru?\\\">@dominicru</a><br></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/12/28/Dominic-Rushe.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/12/28/Dominic_Rushe,_R.png\",\"firstName\":\"Dominic\",\"lastName\":\"Rushe\",\"twitterHandle\":\"dominicru\"},{\"id\":\"profile/michael-safi\",\"type\":\"contributor\",\"webTitle\":\"Michael Safi\",\"webUrl\":\"https://www.theguardian.com/profile/michael-safi\",\"apiUrl\":\"https://content.guardianapis.com/profile/michael-safi\",\"references\":[],\"bio\":\"<p>Michael Safi is an international&nbsp;correspondent for the Guardian, based in the Middle East</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/contributor/2015/4/8/1428486461321/Michael-Safi.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Michael-Safi,-L.png\",\"firstName\":\"Michael \",\"lastName\":\"Safi\",\"twitterHandle\":\"safimichael\"},{\"id\":\"profile/lauren-aratani\",\"type\":\"contributor\",\"webTitle\":\"Lauren Aratani\",\"webUrl\":\"https://www.theguardian.com/profile/lauren-aratani\",\"apiUrl\":\"https://content.guardianapis.com/profile/lauren-aratani\",\"references\":[],\"bio\":\"<p>Lauren Aratani is a reporter for Guardian US&nbsp;</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2019/04/27/Lauren_Aratani_Circular_panelist_byline.DO_NOT_USE_FOR_ANY_OTHER_PURPOSE!_(84106516f8f708155c62cf85d8553c1dc06bee12).png\",\"firstName\":\"Lauren\",\"lastName\":\"Aratani\"},{\"id\":\"profile/richardluscombe\",\"type\":\"contributor\",\"webTitle\":\"Richard Luscombe\",\"webUrl\":\"https://www.theguardian.com/profile/richardluscombe\",\"apiUrl\":\"https://content.guardianapis.com/profile/richardluscombe\",\"references\":[],\"bio\":\"<p>Richard Luscombe is a freelance correspondent based in Miami, Florida. Twitter <a href=\\\"https://twitter.com/richlusc\\\">@richlusc</a></p>\",\"firstName\":\"Richard\",\"lastName\":\"Luscombe\",\"twitterHandle\":\"richlusc\"},{\"id\":\"profile/hallie-golden\",\"type\":\"contributor\",\"webTitle\":\"Hallie Golden\",\"webUrl\":\"https://www.theguardian.com/profile/hallie-golden\",\"apiUrl\":\"https://content.guardianapis.com/profile/hallie-golden\",\"references\":[],\"bio\":\"<p>Hallie Golden is a freelance journalist based in Seattle<br></p>\",\"firstName\":\"Hallie\",\"lastName\":\"Golden\"},{\"id\":\"profile/adrian-horton\",\"type\":\"contributor\",\"webTitle\":\"Adrian Horton\",\"webUrl\":\"https://www.theguardian.com/profile/adrian-horton\",\"apiUrl\":\"https://content.guardianapis.com/profile/adrian-horton\",\"references\":[],\"bio\":\"<p>Adrian Horton is arts writer for Guardian US. Twitter: @adrian_horton<br></p>\",\"firstName\":\"Adrian\",\"lastName\":\"Horton\",\"twitterHandle\":\"adrian_horton\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"us-news/2021/jan/21/joe-biden-executive-actions-coronavirus-pandemic\",\"type\":\"article\",\"sectionId\":\"us-news\",\"sectionName\":\"US news\",\"webPublicationDate\":\"2021-01-21T14:32:29Z\",\"webTitle\":\"Coronavirus: Joe Biden to sign executive actions aimed at ending pandemic\",\"webUrl\":\"https://www.theguardian.com/us-news/2021/jan/21/joe-biden-executive-actions-coronavirus-pandemic\",\"apiUrl\":\"https://content.guardianapis.com/us-news/2021/jan/21/joe-biden-executive-actions-coronavirus-pandemic\",\"tags\":[{\"id\":\"profile/daniel-strauss\",\"type\":\"contributor\",\"webTitle\":\"Daniel Strauss\",\"webUrl\":\"https://www.theguardian.com/profile/daniel-strauss\",\"apiUrl\":\"https://content.guardianapis.com/profile/daniel-strauss\",\"references\":[],\"bio\":\"<p>Daniel is a Senior Political reporter for Guardian US</p><p><br></p><p><a href=\\\"https://twitter.com/danielstrauss4\\\">Twitter</a><br></p>\",\"firstName\":\"Daniel\",\"lastName\":\"Strauss\",\"twitterHandle\":\"danielstrauss4\"},{\"id\":\"profile/walsh-joanna\",\"type\":\"contributor\",\"webTitle\":\"Joanna Walsh\",\"webUrl\":\"https://www.theguardian.com/profile/walsh-joanna\",\"apiUrl\":\"https://content.guardianapis.com/profile/walsh-joanna\",\"references\":[],\"bio\":\"<p>Joanna Walsh is a writer and illustrator. Her work has been published by Granta, Tate, The London Review of Books, The White Review and others. Her story collection, Fractals, is published by 3:AM Press</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Lifeandhealth/Pix/pictures/2014/1/20/1390231118205/Joanna-Walsh-003.jpg\",\"firstName\":\"walsh\",\"lastName\":\"joanna\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"world/2021/jan/21/too-early-england-lockdown-covid-eased-february-boris-johnson\",\"type\":\"article\",\"sectionId\":\"world\",\"sectionName\":\"World news\",\"webPublicationDate\":\"2021-01-21T14:19:33Z\",\"webTitle\":\"Too early to say if England lockdown can be eased next month, says Johnson\",\"webUrl\":\"https://www.theguardian.com/world/2021/jan/21/too-early-england-lockdown-covid-eased-february-boris-johnson\",\"apiUrl\":\"https://content.guardianapis.com/world/2021/jan/21/too-early-england-lockdown-covid-eased-february-boris-johnson\",\"tags\":[{\"id\":\"profile/peterwalker\",\"type\":\"contributor\",\"webTitle\":\"Peter Walker\",\"webUrl\":\"https://www.theguardian.com/profile/peterwalker\",\"apiUrl\":\"https://content.guardianapis.com/profile/peterwalker\",\"references\":[],\"bio\":\"<p>Peter Walker is a political correspondent for the Guardian. <br></p><p>He is the author of The Miracle Pill: Why A Sedentary World Is Getting It All Wrong</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/contributor/2007/09/28/peter_walker_140x140.jpg\",\"firstName\":\"Peter\",\"lastName\":\"Walker\",\"twitterHandle\":\"peterwalker99\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"world/2021/jan/21/blow-for-french-ski-resorts-as-covid-rules-hit-holiday-season\",\"type\":\"article\",\"sectionId\":\"world\",\"sectionName\":\"World news\",\"webPublicationDate\":\"2021-01-21T13:53:04Z\",\"webTitle\":\"Blow for French ski resorts as Covid rules hit holiday season\",\"webUrl\":\"https://www.theguardian.com/world/2021/jan/21/blow-for-french-ski-resorts-as-covid-rules-hit-holiday-season\",\"apiUrl\":\"https://content.guardianapis.com/world/2021/jan/21/blow-for-french-ski-resorts-as-covid-rules-hit-holiday-season\",\"tags\":[{\"id\":\"profile/kim-willsher\",\"type\":\"contributor\",\"webTitle\":\"Kim Willsher\",\"webUrl\":\"https://www.theguardian.com/profile/kim-willsher\",\"apiUrl\":\"https://content.guardianapis.com/profile/kim-willsher\",\"references\":[],\"bio\":\"<p>Kim Willsher is an award-winning foreign correspondent based in Paris</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2011/9/30/1317399986248/kim.jpg\",\"firstName\":\"willsher\",\"lastName\":\"kim\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"education/2021/jan/21/newham-to-keep-eat-for-free-school-meals-scheme-after-outcry\",\"type\":\"article\",\"sectionId\":\"education\",\"sectionName\":\"Education\",\"webPublicationDate\":\"2021-01-21T13:17:32Z\",\"webTitle\":\"Newham to keep Eat for Free school meals scheme after outcry\",\"webUrl\":\"https://www.theguardian.com/education/2021/jan/21/newham-to-keep-eat-for-free-school-meals-scheme-after-outcry\",\"apiUrl\":\"https://content.guardianapis.com/education/2021/jan/21/newham-to-keep-eat-for-free-school-meals-scheme-after-outcry\",\"tags\":[{\"id\":\"profile/patrickbutler\",\"type\":\"contributor\",\"webTitle\":\"Patrick Butler\",\"webUrl\":\"https://www.theguardian.com/profile/patrickbutler\",\"apiUrl\":\"https://content.guardianapis.com/profile/patrickbutler\",\"references\":[],\"bio\":\"<p>Patrick Butler is the Guardian's social policy editor<br></p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2017/06/05/Patrick-Butler1.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Patrick_Butler,_L.png\",\"firstName\":\"Patrick \",\"lastName\":\"Butler\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"world/2021/jan/21/austrian-mayors-who-got-leftover-covid-vaccines-accused-of-queue-jumping\",\"type\":\"article\",\"sectionId\":\"world\",\"sectionName\":\"World news\",\"webPublicationDate\":\"2021-01-21T13:08:11Z\",\"webTitle\":\"Austrian mayors who got leftover Covid vaccines accused of 'queue-jumping'\",\"webUrl\":\"https://www.theguardian.com/world/2021/jan/21/austrian-mayors-who-got-leftover-covid-vaccines-accused-of-queue-jumping\",\"apiUrl\":\"https://content.guardianapis.com/world/2021/jan/21/austrian-mayors-who-got-leftover-covid-vaccines-accused-of-queue-jumping\",\"tags\":[{\"id\":\"profile/philip-oltermann\",\"type\":\"contributor\",\"webTitle\":\"Philip Oltermann\",\"webUrl\":\"https://www.theguardian.com/profile/philip-oltermann\",\"apiUrl\":\"https://content.guardianapis.com/profile/philip-oltermann\",\"references\":[],\"bio\":\"<p>Philip Oltermann is the Guardian's Berlin bureau chief. He is the author of Keeping Up With the Germans: A History of Anglo-German Encounters. Click&nbsp;<a href=\\\"https://www.theguardian.com/pgp/PublicKeys/Philip%20Oltermann.pub.txt\\\">here</a> for Philp's public key</p>\",\"bylineImageUrl\":\"https://uploads.guim.co.uk/2016/11/19/Philip-Oltermann.jpg\",\"bylineLargeImageUrl\":\"https://uploads.guim.co.uk/2017/10/09/Philip_Oltermann,_L.png\",\"firstName\":\"Philip \",\"lastName\":\"Oltermann\",\"twitterHandle\":\"philipoltermann\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"},{\"id\":\"politics/2021/jan/21/46m-people-uk-covid-vaccine-pressures-tougher-lockdown\",\"type\":\"article\",\"sectionId\":\"politics\",\"sectionName\":\"Politics\",\"webPublicationDate\":\"2021-01-21T12:48:31Z\",\"webTitle\":\"4.6m people in UK given Covid vaccine amid pressures for tougher lockdown\",\"webUrl\":\"https://www.theguardian.com/politics/2021/jan/21/46m-people-uk-covid-vaccine-pressures-tougher-lockdown\",\"apiUrl\":\"https://content.guardianapis.com/politics/2021/jan/21/46m-people-uk-covid-vaccine-pressures-tougher-lockdown\",\"tags\":[{\"id\":\"profile/peterwalker\",\"type\":\"contributor\",\"webTitle\":\"Peter Walker\",\"webUrl\":\"https://www.theguardian.com/profile/peterwalker\",\"apiUrl\":\"https://content.guardianapis.com/profile/peterwalker\",\"references\":[],\"bio\":\"<p>Peter Walker is a political correspondent for the Guardian. <br></p><p>He is the author of The Miracle Pill: Why A Sedentary World Is Getting It All Wrong</p>\",\"bylineImageUrl\":\"https://static.guim.co.uk/sys-images/Guardian/Pix/contributor/2007/09/28/peter_walker_140x140.jpg\",\"firstName\":\"Peter\",\"lastName\":\"Walker\",\"twitterHandle\":\"peterwalker99\"}],\"isHosted\":false,\"pillarId\":\"pillar/news\",\"pillarName\":\"News\"}]}}";

    public static List<NewsItem> extractNews() {
        ArrayList<NewsItem> newsItems= new ArrayList<>();

        try {
            JSONObject baseJsonResponse = new JSONObject(SAMPLE_JSON_RESPONSE);
            JSONArray newsArray = baseJsonResponse.getJSONObject("response")
                    .getJSONArray("results");
            for (int i = 0; i < newsArray.length(); i++) {
                JSONObject JSONNewsItem = newsArray.getJSONObject(i);
                String title = JSONNewsItem.getString("webTitle");
                String section = JSONNewsItem.getString("sectionName");
                String date = JSONNewsItem.getString("webPublicationDate")
                        .replaceFirst("T", " ")
                        .replaceFirst("Z", "");
                String authors = "";
                JSONArray tags = JSONNewsItem.getJSONArray("tags");
                if (tags.length() > 0)
                    authors = tags.getJSONObject(0).getString("webTitle");
                if (tags.length() > 1)
                    authors += ", and others";
                String url = JSONNewsItem.getString("webUrl");
                newsItems.add(new NewsItem(title, section, authors, date, url));
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        return newsItems;
    }
}
